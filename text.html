<!DOCTYPE html>
<html>
<head>
  <title>Quản lý Pokémon</title>
  <style>
    body {
      font-family: sans-serif;
    }
    .container {
      display: flex;
    }
    .list {
      width: 50%;
      padding: 20px;
      border: 1px solid #ccc;
      margin-right: 20px;
    }
    .add-form {
      width: 50%;
      padding: 20px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h1>Quản lý Pokémon của tôi</h1>

  <div class="container">
    <div class="list">
      <h2>Danh sách Pokémon</h2>
      <ul id="pokemon-list"></ul>
    </div>

    <div class="add-form">
      <h2>Thêm Pokémon</h2>
      <form id="add-pokemon-form">
        <label for="pokemon-name">Tên Pokémon:</label><br>
        <input type="text" id="pokemon-name" name="pokemon-name" required><br><br>

        <label for="pokemon-level">Cấp độ:</label><br>
        <input type="number" id="pokemon-level" name="pokemon-level" min="1" required><br><br>

        <button type="submit">Thêm</button>
      </form>
    </div>
  </div>

  <script>
    const pokemonList = document.getElementById('pokemon-list');
    const addPokemonForm = document.getElementById('add-pokemon-form');

    // Lấy danh sách Pokémon từ LocalStorage khi tải trang
    let pokemonArr = loadPokemon();
    displayPokemon();

    // Xử lý sự kiện thêm Pokémon
    addPokemonForm.addEventListener('submit', (event) => {
      event.preventDefault(); 

      const pokemonName = document.getElementById('pokemon-name').value;
      const pokemonLevel = parseInt(document.getElementById('pokemon-level').value);

      const newPokemon = {
        name: pokemonName,
        level: pokemonLevel
      };

      pokemonArr.push(newPokemon);
      savePokemon();
      displayPokemon();
      addPokemonForm.reset(); 
    });

    // Hiển thị danh sách Pokémon
    function displayPokemon() {
      pokemonList.innerHTML = ''; 
      pokemonArr.forEach((pokemon, index) => {
        const listItem = document.createElement('li');
        listItem.textContent = `${pokemon.name} (Cấp ${pokemon.level})`;
        pokemonList.appendChild(listItem);
      });
    }

    // Lưu danh sách Pokémon vào LocalStorage
    function savePokemon() {
      localStorage.setItem('myPokemonList', JSON.stringify(pokemonArr));
    }

    // Lấy danh sách Pokémon từ LocalStorage
    function loadPokemon() {
      const storedPokemon = localStorage.getItem('myPokemonList');
      return storedPokemon ? JSON.parse(storedPokemon) : [];
    }
  </script>
</body>
</html>